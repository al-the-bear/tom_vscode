{
    "name": "tom-ai-extension",
    "displayName": "@Tom",
    "description": "AI-powered build and documentation automation for Tom workspace with Copilot integration",
    "version": "0.1.0",
    "publisher": "Peter Nicolai Alexis Kyaw",
    "engines": {
        "vscode": "^1.96.0"
    },
    "categories": [
        "Other"
    ],
    "activationEvents": [
        "onStartupFinished"
    ],
    "main": "./out/extension.js",
    "contributes": {
        "chatVariables": [
            {
                "id": "tomAi.quest",
                "name": "quest",
                "description": "Current active quest ID"
            },
            {
                "id": "tomAi.role",
                "name": "role",
                "description": "Current AI role / persona"
            },
            {
                "id": "tomAi.activeProjects",
                "name": "activeProjects",
                "description": "Currently active project IDs"
            },
            {
                "id": "tomAi.todo",
                "name": "todo",
                "description": "Current todo summary from the active quest"
            },
            {
                "id": "tomAi.workspaceName",
                "name": "workspaceName",
                "description": "Current workspace name"
            }
        ],
        "viewsContainers": {
            "panel": [
                {
                    "id": "tomAi-t2-panel",
                    "title": "@CHAT",
                    "icon": "$(layout)"
                },
                {
                    "id": "tomAi-t3-panel",
                    "title": "@WS",
                    "icon": "$(beaker)"
                }
            ]
        },
        "submenus": [
            {
                "id": "tomAi.sendToCopilotSubmenu",
                "label": "@Tom: Send to Copilot..."
            },
            {
                "id": "tomAi.sendToLocalLlmSubmenu",
                "label": "@Tom: Send to Local LLM..."
            }
        ],
        "commands": [
            {
                "command": "tomAi.sendToCopilot",
                "title": "@T: Send to Copilot",
                "category": "@Tom"
            },
            {
                "command": "tomAi.sendToCopilot.template",
                "title": "@T: Send to Copilot (Pick Template)",
                "category": "@Tom"
            },
            {
                "command": "tomAi.sendToCopilot.standard",
                "title": "@T: Send to Copilot (Default Template)",
                "category": "@Tom"
            },
            {
                "command": "tomAi.sendToCopilot.trailReminder",
                "title": "@T: Send with Trail Reminder",
                "category": "@Tom"
            },
            {
                "command": "tomAi.sendToCopilot.todoExecution",
                "title": "@T: TODO Execution",
                "category": "@Tom"
            },
            {
                "command": "tomAi.sendToCopilot.codeReview",
                "title": "@T: Code Review",
                "category": "@Tom"
            },
            {
                "command": "tomAi.sendToCopilot.explain",
                "title": "@T: Explain Code",
                "category": "@Tom"
            },
            {
                "command": "tomAi.sendToCopilot.addToTodo",
                "title": "@T: Add to Todo",
                "category": "@Tom"
            },
            {
                "command": "tomAi.sendToCopilot.fixMarkdown",
                "title": "@T: Fix Markdown here",
                "category": "@Tom"
            },
            {
                "command": "tomAi.reloadConfig",
                "title": "@T: Reload Configuration",
                "category": "@Tom"
            },
            {
                "command": "tomAi.sendToLocalLlm",
                "title": "@T: Send to Local LLM",
                "category": "@Tom"
            },
            {
                "command": "tomAi.localLlm.switchModel",
                "title": "@T: Change Local LLM Model...",
                "category": "@Tom"
            },
            {
                "command": "tomAi.sendToLocalLlm.standard",
                "title": "@T: Send to Local LLM (Default Template)",
                "category": "@Tom"
            },
            {
                "command": "tomAi.sendToLocalLlm.template",
                "title": "@T: Send to Local LLM (Pick Template)",
                "category": "@Tom"
            },
            {
                "command": "tomAi.sendToLocalLlm.default",
                "title": "@T: Send to Local LLM (Default)",
                "category": "@Tom"
            },
            {
                "command": "tomAi.sendToLocalLlm.expand",
                "title": "@T: Expand Prompt",
                "category": "@Tom"
            },
            {
                "command": "tomAi.sendToLocalLlm.rewrite",
                "title": "@T: Rewrite",
                "category": "@Tom"
            },
            {
                "command": "tomAi.sendToLocalLlm.detailed",
                "title": "@T: Detailed Expansion",
                "category": "@Tom"
            },
            {
                "command": "tomAi.sendToLocalLlm.annotated",
                "title": "@T: Annotated Expansion",
                "category": "@Tom"
            },
            {
                "command": "tomAi.aiConversation.start",
                "title": "@T: Start AI Conversation",
                "category": "@Tom"
            },
            {
                "command": "tomAi.aiConversation.stop",
                "title": "@T: Stop AI Conversation",
                "category": "@Tom"
            },
            {
                "command": "tomAi.aiConversation.halt",
                "title": "@T: Halt AI Conversation",
                "category": "@Tom"
            },
            {
                "command": "tomAi.aiConversation.continue",
                "title": "@T: Continue AI Conversation",
                "category": "@Tom"
            },
            {
                "command": "tomAi.aiConversation.add",
                "title": "@T: Add to AI Conversation",
                "category": "@Tom"
            },
            {
                "command": "tomAi.tomAiChat.start",
                "title": "@T: Start Tom AI Chat",
                "category": "@Tom"
            },
            {
                "command": "tomAi.tomAiChat.send",
                "title": "@T: Send Tom AI Chat Prompt",
                "category": "@Tom"
            },
            {
                "command": "tomAi.tomAiChat.interrupt",
                "title": "@T: Interrupt Tom AI Chat",
                "category": "@Tom"
            },
            {
                "command": "tomAi.bridge.restart",
                "title": "@T: Restart Bridge",
                "category": "@Tom"
            },
            {
                "command": "tomAi.bridge.switchProfile",
                "title": "@T: Switch Bridge Profile...",
                "category": "@Tom"
            },
            {
                "command": "tomAi.bridge.toggleDebug",
                "title": "@T: Toggle Bridge Debug Logging",
                "category": "@Tom"
            },
            {
                "command": "tomAi.reloadWindow",
                "title": "@T: Reload Window",
                "category": "@Tom"
            },
            {
                "command": "tomAi.runTests",
                "title": "@T: Run Tests",
                "category": "@Tom"
            },
            {
                "command": "tomAi.cliServer.start",
                "title": "@T: Start Tom CLI Integration Server",
                "category": "@Tom"
            },
            {
                "command": "tomAi.cliServer.startCustomPort",
                "title": "@T: Start Tom CLI Integration Server (Custom Port)",
                "category": "@Tom"
            },
            {
                "command": "tomAi.cliServer.stop",
                "title": "@T: Stop Tom CLI Integration Server",
                "category": "@Tom"
            },
            {
                "command": "tomAi.startProcessMonitor",
                "title": "@T: Start Tom Process Monitor",
                "category": "@Tom"
            },
            {
                "command": "tomAi.statusPage",
                "title": "@T: Extension Status Page",
                "category": "@Tom"
            },
            {
                "command": "tomAi.commandline.add",
                "title": "@T: Add Commandline",
                "category": "@Tom"
            },
            {
                "command": "tomAi.commandline.delete",
                "title": "@T: Delete Commandline",
                "category": "@Tom"
            },
            {
                "command": "tomAi.commandline.execute",
                "title": "@T: Execute Commandline",
                "category": "@Tom"
            },
            {
                "command": "tomAi.telegram.testConnection",
                "title": "@T: Telegram Test Connection",
                "category": "@Tom"
            },
            {
                "command": "tomAi.telegram.toggle",
                "title": "@T: Toggle Telegram",
                "category": "@Tom"
            },
            {
                "command": "tomAi.telegram.configure",
                "title": "@T: Configure Telegram",
                "category": "@Tom"
            },
            {
                "command": "tomAi.trail.toggle",
                "title": "@T: Toggle Trail",
                "category": "@Tom"
            },
            {
                "command": "tomAi.openSettings",
                "title": "@T: Open Extension Settings",
                "category": "@Tom"
            },
            {
                "command": "tomAi.openConfig",
                "title": "@T: Open Config",
                "category": "@Tom"
            },
            {
                "command": "tomAi.printConfiguration",
                "title": "@T: Print Configuration",
                "category": "@Tom"
            },
            {
                "command": "tomAi.showHelp",
                "title": "@T: Show Extension Help",
                "category": "@Tom"
            },
            {
                "command": "tomAi.showApiInfo",
                "title": "@T: Show VS Code API Info",
                "category": "@Tom"
            },
            {
                "command": "tomAi.showAnswerValues",
                "title": "@T: Show Chat Answer Values",
                "category": "@Tom"
            },
            {
                "command": "tomAi.clearAnswerValues",
                "title": "@T: Clear Chat Answer Values",
                "category": "@Tom"
            },
            {
                "command": "tomAi.showQuickReference",
                "title": "@T: Show Quick Reference",
                "category": "@Tom"
            },
            {
                "command": "tomAi.resetMultiCommandState",
                "title": "@T: Reset Multi-Command State",
                "category": "@Tom"
            },
            {
                "command": "tomAi.combined.maximizeExplorer",
                "title": "@T: Maximize Explorer",
                "category": "@Tom"
            },
            {
                "command": "tomAi.combined.maximizeEditor",
                "title": "@T: Maximize Editor",
                "category": "@Tom"
            },
            {
                "command": "tomAi.combined.maximizeChat",
                "title": "@T: Maximize Chat",
                "category": "@Tom"
            },
            {
                "command": "tomAi.combined.maximizeToggle",
                "title": "@T: Toggle Maximize",
                "category": "@Tom"
            },
            {
                "command": "tomAi.stateMachine.vsWindowStateFlow",
                "title": "@T: Window State Flow",
                "category": "@Tom"
            },
            {
                "command": "tomAi.focusTomAi",
                "title": "@T: Focus Tom AI",
                "category": "@Tom"
            },
            {
                "command": "tomAi.wsPanel.focus",
                "title": "@T: Focus Workspace Panel",
                "category": "@Tom"
            },
            {
                "command": "tomAi.combined.showSideNotes",
                "title": "@T: Show Side Notes",
                "category": "@Tom"
            },
            {
                "command": "tomAi.editor.chatVariables",
                "title": "@T: Open Chat Variables Editor",
                "category": "@Tom"
            },
            {
                "command": "tomAi.editor.promptQueue",
                "title": "@T: Open Prompt Queue Editor",
                "category": "@Tom"
            },
            {
                "command": "tomAi.editor.timedRequests",
                "title": "@T: Open Timed Requests Editor",
                "category": "@Tom"
            },
            {
                "command": "tomAi.editor.contextSettings",
                "title": "@T: Open Context & Settings Editor",
                "category": "@Tom"
            },
            {
                "command": "tomAi.editor.promptTemplates",
                "title": "@T: Open Prompt Template Editor",
                "category": "@Tom"
            },
            {
                "command": "tomAi.editor.reusablePrompts",
                "title": "@T: Open Reusable Prompt Editor",
                "category": "@Tom"
            },
            {
                "command": "tomAi.editor.rawTrailViewer",
                "title": "@T: Open Raw Trail Viewer",
                "category": "@Tom"
            },
            {
                "command": "tomAi.editor.summaryTrailViewer",
                "title": "@T: Open Summary Trail Viewer",
                "category": "@Tom"
            },
            {
                "command": "tomAi.openInMdViewer",
                "title": "@T: Open in MD Viewer",
                "category": "@Tom"
            }
        ],
        "views": {
            "tomAi-t2-panel": [
                {
                    "type": "webview",
                    "id": "tomAi.chatPanel",
                    "name": "@CHAT",
                    "icon": "$(layout)"
                }
            ],
            "tomAi-t3-panel": [
                {
                    "type": "webview",
                    "id": "tomAi.wsPanel",
                    "name": "@WS",
                    "icon": "$(beaker)"
                }
            ],
            "explorer": [
                {
                    "type": "webview",
                    "id": "tomAi.tomNotepad",
                    "name": "VS CODE NOTES",
                    "icon": "$(note)"
                },
                {
                    "type": "webview",
                    "id": "tomAi.questNotesView",
                    "name": "QUEST NOTES",
                    "icon": "$(book)",
                    "when": "tomAi.hasWorkspaceFile"
                },
                {
                    "type": "webview",
                    "id": "tomAi.questTodosView",
                    "name": "QUEST TODOS",
                    "icon": "$(checklist)"
                },
                {
                    "type": "webview",
                    "id": "tomAi.sessionTodosView",
                    "name": "SESSION TODOS",
                    "icon": "$(clock)"
                },
                {
                    "type": "webview",
                    "id": "tomAi.todoLogView",
                    "name": "TODO LOG",
                    "icon": "$(history)"
                },
                {
                    "type": "webview",
                    "id": "tomAi.workspaceNotepad",
                    "name": "WORKSPACE NOTES",
                    "icon": "$(file-text)"
                },
                {
                    "type": "webview",
                    "id": "tomAi.workspaceTodosView",
                    "name": "WORKSPACE TODOS",
                    "icon": "$(tasklist)"
                }
            ]
        },
        "customEditors": [
            {
                "viewType": "yamlGraph.editor",
                "displayName": "YAML Graph Editor",
                "selector": [
                    {
                        "filenamePattern": "*.flow.yaml"
                    },
                    {
                        "filenamePattern": "*.state.yaml"
                    },
                    {
                        "filenamePattern": "*.er.yaml"
                    }
                ],
                "priority": "default"
            },
            {
                "viewType": "questTodo.editor",
                "displayName": "Quest TODO Editor",
                "selector": [
                    {
                        "filenamePattern": "*.todo.yaml"
                    }
                ],
                "priority": "option"
            },
            {
                "viewType": "trailViewer.editor",
                "displayName": "Trail Viewer",
                "selector": [
                    {
                        "filenamePattern": "*.prompts.md"
                    },
                    {
                        "filenamePattern": "*.answers.md"
                    }
                ],
                "priority": "default"
            }
        ],
        "yamlValidation": [
            {
                "fileMatch": "*.flow.yaml",
                "url": "./node_modules/yaml-graph-core/graph-types/flowchart/v1/flowchart.schema.json"
            },
            {
                "fileMatch": "*.state.yaml",
                "url": "./node_modules/yaml-graph-core/graph-types/state-machine/v1/state-machine.schema.json"
            },
            {
                "fileMatch": "*.er.yaml",
                "url": "./node_modules/yaml-graph-core/graph-types/er-diagram/v1/er-diagram.schema.json"
            },
            {
                "fileMatch": "*.prompt-panel.yaml",
                "url": "../../../.tom/json-schema/panels/prompt.schema.json"
            }
        ],
        "keybindings": [
            {
                "command": "-workbench.action.terminal.openNativeConsole",
                "key": "ctrl+shift+c"
            },
            {
                "command": "-workbench.view.extensions",
                "key": "ctrl+shift+x"
            },
            {
                "command": "tomAi.chordMenu.aiConversation",
                "key": "ctrl+shift+c",
                "when": "!tomAi.chordMenuOpen"
            },
            {
                "command": "tomAi.chordMenu.localLlm",
                "key": "ctrl+shift+l",
                "when": "!tomAi.chordMenuOpen"
            },
            {
                "command": "tomAi.chordMenu.copilot",
                "key": "ctrl+shift+a",
                "when": "!tomAi.chordMenuOpen"
            },
            {
                "command": "tomAi.chordMenu.tomAiChat",
                "key": "ctrl+shift+t",
                "when": "!tomAi.chordMenuOpen"
            },
            {
                "command": "tomAi.chordMenu.execute",
                "key": "ctrl+shift+e",
                "when": "!tomAi.chordMenuOpen"
            },
            {
                "command": "tomAi.chordMenu.favorites",
                "key": "ctrl+shift+x",
                "when": "!tomAi.chordMenuOpen"
            },
            {
                "command": "tomAi.combined.maximizeToggle",
                "key": "ctrl+shift+[IntlBackslash]"
            },
            {
                "command": "tomAi.combined.maximizeExplorer",
                "key": "ctrl+shift+2"
            },
            {
                "command": "tomAi.combined.maximizeEditor",
                "key": "ctrl+shift+3"
            },
            {
                "command": "tomAi.combined.maximizeChat",
                "key": "ctrl+shift+4"
            },
            {
                "command": "tomAi.focusTomAi",
                "key": "ctrl+shift+0"
            },
            {
                "command": "tomAi.stateMachine.vsWindowStateFlow",
                "key": "ctrl+shift+y"
            },
            {
                "command": "tomAi.statusPage",
                "key": "ctrl+shift+8"
            },
            {
                "command": "tomAi.wsPanel.focus",
                "key": "ctrl+shift+9"
            },
            {
                "command": "-workbench.action.newWindow",
                "key": "ctrl+shift+n"
            },
            {
                "command": "tomAi.combined.showSideNotes",
                "key": "ctrl+shift+n"
            }
        ],
        "menus": {
            "explorer/context": [
                {
                    "command": "tomAi.executeFile",
                    "when": "resourceExtname == .dart",
                    "group": "tomAi@1"
                },
                {
                    "command": "tomAi.executeScript",
                    "when": "resourceExtname == .dart",
                    "group": "tomAi@3"
                },
                {
                    "command": "tomAi.openInMdViewer",
                    "when": "resourceExtname == .md",
                    "group": "tomAi@5"
                }
            ],
            "editor/context": [
                {
                    "submenu": "tomAi.sendToCopilotSubmenu",
                    "group": "copilot@0"
                },
                {
                    "command": "tomAi.sendToCopilot.standard",
                    "group": "copilot@1"
                },
                {
                    "command": "tomAi.sendToCopilot.template",
                    "group": "copilot@2"
                },
                {
                    "command": "tomAi.sendToCopilot",
                    "when": "editorHasSelection",
                    "group": "copilot@3"
                },
                {
                    "submenu": "tomAi.sendToLocalLlmSubmenu",
                    "group": "localLlm@0"
                },
                {
                    "command": "tomAi.sendToLocalLlm.standard",
                    "group": "localLlm@1"
                },
                {
                    "command": "tomAi.sendToLocalLlm.template",
                    "group": "localLlm@2"
                },
                {
                    "command": "tomAi.sendToLocalLlm.default",
                    "when": "editorHasSelection",
                    "group": "localLlm@3"
                },
                {
                    "command": "tomAi.executeScript",
                    "when": "resourceExtname == .dart",
                    "group": "tomAi@2"
                },
                {
                    "command": "tomAi.tomAiChat.start",
                    "when": "resourceExtname == .chat.md",
                    "group": "tomAi@4"
                },
                {
                    "command": "tomAi.tomAiChat.send",
                    "when": "resourceExtname == .chat.md",
                    "group": "tomAi@5"
                },
                {
                    "command": "tomAi.openInMdViewer",
                    "when": "resourceLangId == markdown",
                    "group": "tomAi@10"
                }
            ],
            "tomAi.sendToCopilotSubmenu": [
                {
                    "command": "tomAi.sendToCopilot.trailReminder",
                    "group": "standard@1"
                },
                {
                    "command": "tomAi.sendToCopilot.todoExecution",
                    "group": "standard@2"
                },
                {
                    "command": "tomAi.sendToCopilot.codeReview",
                    "group": "standard@3"
                },
                {
                    "command": "tomAi.sendToCopilot.explain",
                    "group": "standard@4"
                },
                {
                    "command": "tomAi.sendToCopilot.addToTodo",
                    "group": "standard@5"
                },
                {
                    "command": "tomAi.sendToCopilot.fixMarkdown",
                    "group": "standard@6"
                }
            ],
            "tomAi.sendToLocalLlmSubmenu": [
                {
                    "command": "tomAi.sendToLocalLlm.expand",
                    "group": "profiles@1"
                },
                {
                    "command": "tomAi.sendToLocalLlm.rewrite",
                    "group": "profiles@2"
                },
                {
                    "command": "tomAi.sendToLocalLlm.detailed",
                    "group": "profiles@3"
                },
                {
                    "command": "tomAi.sendToLocalLlm.annotated",
                    "group": "profiles@4"
                }
            ]
        },
        "languageModelTools": [
            {
                "name": "tom_createFile",
                "tags": [
                    "files",
                    "tom-ai-chat"
                ],
                "displayName": "Create File",
                "userDescription": "Create a new file with content",
                "modelDescription": "Create a new file with the specified content. Creates parent directories if needed.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "filePath": {
                            "type": "string",
                            "description": "The path to the file to create. Can be absolute or relative to workspace root."
                        },
                        "content": {
                            "type": "string",
                            "description": "The content to write to the file."
                        }
                    },
                    "required": [
                        "filePath",
                        "content"
                    ]
                },
                "toolReferenceName": "tom_createFile"
            },
            {
                "name": "tom_readFile",
                "tags": [
                    "files",
                    "tom-ai-chat"
                ],
                "displayName": "Read File",
                "userDescription": "Read file contents",
                "modelDescription": "Read the contents of a file. Optionally specify line range.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "filePath": {
                            "type": "string",
                            "description": "The path to the file to read."
                        },
                        "startLine": {
                            "type": "number",
                            "description": "Optional 1-based start line number."
                        },
                        "endLine": {
                            "type": "number",
                            "description": "Optional 1-based end line number."
                        }
                    },
                    "required": [
                        "filePath"
                    ]
                },
                "toolReferenceName": "tom_readFile"
            },
            {
                "name": "tom_editFile",
                "tags": [
                    "files",
                    "tom-ai-chat"
                ],
                "displayName": "Edit File",
                "userDescription": "Edit file with find/replace",
                "modelDescription": "Edit a file by replacing oldText with newText. The oldText must match exactly.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "filePath": {
                            "type": "string",
                            "description": "The path to the file to edit."
                        },
                        "oldText": {
                            "type": "string",
                            "description": "The exact text to find and replace."
                        },
                        "newText": {
                            "type": "string",
                            "description": "The text to replace oldText with."
                        }
                    },
                    "required": [
                        "filePath",
                        "oldText",
                        "newText"
                    ]
                },
                "toolReferenceName": "tom_editFile"
            },
            {
                "name": "tom_multiEditFile",
                "tags": [
                    "files",
                    "tom-ai-chat"
                ],
                "displayName": "Multi Edit File",
                "userDescription": "Apply multiple file edits",
                "modelDescription": "Apply multiple find/replace edits across one or more files.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "edits": {
                            "type": "array",
                            "description": "Array of edit operations to apply.",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "filePath": {
                                        "type": "string"
                                    },
                                    "oldText": {
                                        "type": "string"
                                    },
                                    "newText": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "filePath",
                                    "oldText",
                                    "newText"
                                ]
                            }
                        }
                    },
                    "required": [
                        "edits"
                    ]
                },
                "toolReferenceName": "tom_multiEditFile"
            },
            {
                "name": "tom_listDirectory",
                "tags": [
                    "files",
                    "tom-ai-chat"
                ],
                "displayName": "List Directory",
                "userDescription": "List directory contents",
                "modelDescription": "List the contents of a directory. Directories have a trailing slash.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "dirPath": {
                            "type": "string",
                            "description": "The path to the directory to list."
                        }
                    },
                    "required": [
                        "dirPath"
                    ]
                },
                "toolReferenceName": "tom_listDirectory"
            },
            {
                "name": "tom_findFiles",
                "tags": [
                    "files",
                    "search",
                    "tom-ai-chat"
                ],
                "displayName": "Find Files",
                "userDescription": "Find files by pattern",
                "modelDescription": "Find files matching a glob pattern in the workspace.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "pattern": {
                            "type": "string",
                            "description": "Glob pattern to match files, e.g. '**/*.ts' or 'src/**/*.dart'"
                        },
                        "maxResults": {
                            "type": "number",
                            "description": "Maximum number of results to return. Default 100."
                        }
                    },
                    "required": [
                        "pattern"
                    ]
                },
                "toolReferenceName": "tom_findFiles"
            },
            {
                "name": "tom_findTextInFiles",
                "tags": [
                    "files",
                    "search",
                    "tom-ai-chat"
                ],
                "displayName": "Find Text in Files",
                "userDescription": "Search text in files",
                "modelDescription": "Search for text in files using grep. Returns matching lines with file paths and line numbers.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "searchText": {
                            "type": "string",
                            "description": "The text or regex pattern to search for."
                        },
                        "filePattern": {
                            "type": "string",
                            "description": "Optional glob pattern to filter files, e.g. '*.dart'"
                        },
                        "isRegex": {
                            "type": "boolean",
                            "description": "Whether searchText is a regex pattern. Default false."
                        },
                        "maxResults": {
                            "type": "number",
                            "description": "Maximum number of matching lines to return. Default 50."
                        }
                    },
                    "required": [
                        "searchText"
                    ]
                },
                "toolReferenceName": "tom_findTextInFiles"
            },
            {
                "name": "tom_runCommand",
                "tags": [
                    "terminal",
                    "tom-ai-chat"
                ],
                "displayName": "Run Command",
                "userDescription": "Run shell command",
                "modelDescription": "Run a shell command and return the output.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "command": {
                            "type": "string",
                            "description": "The shell command to run."
                        },
                        "cwd": {
                            "type": "string",
                            "description": "Optional working directory for the command."
                        }
                    },
                    "required": [
                        "command"
                    ]
                },
                "toolReferenceName": "tom_runCommand"
            },
            {
                "name": "tom_runVscodeCommand",
                "tags": [
                    "vscode",
                    "tom-ai-chat"
                ],
                "displayName": "Run VS Code Command",
                "userDescription": "Run VS Code command",
                "modelDescription": "Execute a VS Code command by ID.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "command": {
                            "type": "string",
                            "description": "The VS Code command ID to execute."
                        },
                        "args": {
                            "type": "array",
                            "description": "Optional arguments to pass to the command.",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    "required": [
                        "command"
                    ]
                },
                "toolReferenceName": "tom_runVscodeCommand"
            },
            {
                "name": "tom_getErrors",
                "tags": [
                    "diagnostics",
                    "tom-ai-chat"
                ],
                "displayName": "Get Errors",
                "userDescription": "Get VS Code diagnostics",
                "modelDescription": "Get errors and warnings from VS Code diagnostics.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "filePath": {
                            "type": "string",
                            "description": "Optional file path to get errors for. If not specified, returns all errors."
                        }
                    }
                },
                "toolReferenceName": "tom_getErrors"
            },
            {
                "name": "tom_fetchWebpage",
                "tags": [
                    "web",
                    "tom-ai-chat"
                ],
                "displayName": "Fetch Webpage",
                "userDescription": "Fetch webpage content",
                "modelDescription": "Fetch the content of a URL.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "url": {
                            "type": "string",
                            "description": "The URL to fetch."
                        }
                    },
                    "required": [
                        "url"
                    ]
                },
                "toolReferenceName": "tom_fetchWebpage"
            },
            {
                "name": "tom_readGuideline",
                "tags": [
                    "guidelines",
                    "tom-ai-chat"
                ],
                "displayName": "Read Guideline",
                "userDescription": "Read workspace coding guidelines",
                "modelDescription": "Read workspace Copilot guidelines from _copilot_guidelines/ folder. Without a fileName, returns the list of available files and the content of index.md (the main guideline index). Key guidelines: coding_guidelines.md (code structure, naming), documentation_guidelines.md (docs format), tests.md (test creation), project_structure.md (project patterns), bug_fixing.md (debugging workflow). Use this tool to understand workspace conventions before making changes.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "fileName": {
                            "type": "string",
                            "description": "Optional specific guideline file to read (e.g., 'coding_guidelines.md' or 'coding_guidelines'). If not specified, returns index.md with list of available files."
                        }
                    }
                },
                "toolReferenceName": "tom_readGuideline"
            },
            {
                "name": "tom_webSearch",
                "tags": [
                    "web",
                    "search",
                    "tom-ai-chat"
                ],
                "displayName": "Web Search",
                "userDescription": "Search the web with DuckDuckGo",
                "modelDescription": "Search the web using DuckDuckGo. Returns titles, URLs, and snippets of the top results. Use this to research topics, find documentation, or discover solutions.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "query": {
                            "type": "string",
                            "description": "The search query."
                        },
                        "maxResults": {
                            "type": "number",
                            "description": "Maximum number of results to return. Default 8."
                        }
                    },
                    "required": [
                        "query"
                    ]
                },
                "toolReferenceName": "tom_webSearch"
            },
            {
                "name": "tom_manageTodo",
                "tags": [
                    "todo",
                    "task-management",
                    "tom-ai-chat"
                ],
                "displayName": "Manage Scratch Todo List",
                "userDescription": "Manage temporary scratch todos (not quest todos)",
                "modelDescription": "Optional: Manage a temporary scratch todo list for this prompt run. This is NOT the quest todo system. Operations: 'list' (view todos), 'add' (create with title/description), 'update' (change status/title/description by id), 'remove' (delete by id), 'clear' (remove all). Status values: not-started, in-progress, completed. Use when you have 3+ distinct steps to track.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "operation"
                    ],
                    "properties": {
                        "operation": {
                            "type": "string",
                            "enum": [
                                "list",
                                "add",
                                "update",
                                "remove",
                                "clear"
                            ],
                            "description": "The operation to perform: list (view todos), add (create new), update (modify existing), remove (delete), clear (remove all)."
                        },
                        "id": {
                            "type": "number",
                            "description": "Todo ID. Required for 'update' and 'remove' operations."
                        },
                        "title": {
                            "type": "string",
                            "description": "Short headline for the todo (3-7 words). Required for 'add', optional for 'update'."
                        },
                        "description": {
                            "type": "string",
                            "description": "Detailed description of the task. Optional for 'add' and 'update'."
                        },
                        "status": {
                            "type": "string",
                            "enum": [
                                "not-started",
                                "in-progress",
                                "completed"
                            ],
                            "description": "Todo status. Used with 'update' operation."
                        },
                        "filterStatus": {
                            "type": "string",
                            "enum": [
                                "not-started",
                                "in-progress",
                                "completed"
                            ],
                            "description": "Filter by status when using 'list' operation."
                        }
                    }
                },
                "toolReferenceName": "manageScratchTodos"
            },
            {
                "name": "tomAi_notifyUser",
                "tags": [
                    "notification",
                    "telegram",
                    "tom-ai-chat"
                ],
                "displayName": "Notify User",
                "userDescription": "Send notification to user",
                "modelDescription": "Send a notification to the user via Telegram (if configured) or VS Code notification. Use when you need attention, complete a long task, or encounter a blocking issue.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "message"
                    ],
                    "properties": {
                        "message": {
                            "type": "string",
                            "description": "The notification text."
                        },
                        "urgency": {
                            "type": "string",
                            "enum": [
                                "info",
                                "warning",
                                "error"
                            ],
                            "description": "Notification urgency level. Default: info."
                        },
                        "title": {
                            "type": "string",
                            "description": "Optional short title / subject line."
                        }
                    }
                },
                "toolReferenceName": "tomAi_notifyUser"
            },
            {
                "name": "tomAi_getWorkspaceInfo",
                "tags": [
                    "workspace",
                    "context",
                    "tom-ai-chat"
                ],
                "displayName": "Get Workspace Info",
                "userDescription": "Get workspace info",
                "modelDescription": "Detect which workspace is open, current quest, role, and active projects. No parameters required.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {}
                },
                "toolReferenceName": "tomAi_getWorkspaceInfo"
            },
            {
                "name": "tomAi_listTodos",
                "tags": [
                    "todo",
                    "quest",
                    "tom-ai-chat"
                ],
                "displayName": "List All Quest Todos",
                "userDescription": "List quest todos (quest YAML)",
                "modelDescription": "List todos from a quest, optionally filtered by status, file, or tags.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "questId"
                    ],
                    "properties": {
                        "questId": {
                            "type": "string",
                            "description": "The quest ID (e.g. \"vscode_extension\")."
                        },
                        "status": {
                            "type": "string",
                            "enum": [
                                "not-started",
                                "in-progress",
                                "blocked",
                                "completed",
                                "cancelled"
                            ],
                            "description": "Filter by status."
                        },
                        "file": {
                            "type": "string",
                            "description": "Specific todo file name, or \"all\" to aggregate."
                        },
                        "tags": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "description": "Filter by tags."
                        }
                    }
                },
                "toolReferenceName": "listAllQuestTodos"
            },
            {
                "name": "tomAi_getAllTodos",
                "tags": [
                    "todo",
                    "quest",
                    "tom-ai-chat"
                ],
                "displayName": "List All Quest + Session Todos",
                "userDescription": "List combined quest and session todos",
                "modelDescription": "Get ALL todos from ALL sources in a single call: quest YAML files + window session. This is the preferred tool when you need a complete picture of all pending work.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "questId"
                    ],
                    "properties": {
                        "questId": {
                            "type": "string",
                            "description": "The quest ID."
                        }
                    }
                },
                "toolReferenceName": "listAllQuestAndSessionTodos"
            },
            {
                "name": "tomAi_getTodo",
                "tags": [
                    "todo",
                    "quest",
                    "tom-ai-chat"
                ],
                "displayName": "Get Quest Todo",
                "userDescription": "Get one quest todo by ID",
                "modelDescription": "Get a single todo by ID from a quest.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "questId",
                        "todoId"
                    ],
                    "properties": {
                        "questId": {
                            "type": "string",
                            "description": "The quest ID."
                        },
                        "todoId": {
                            "type": "string",
                            "description": "The todo ID."
                        }
                    }
                },
                "toolReferenceName": "getQuestTodoById"
            },
            {
                "name": "tomAi_createTodo",
                "tags": [
                    "todo",
                    "quest",
                    "tom-ai-chat"
                ],
                "displayName": "Create Quest Todo",
                "userDescription": "Create a quest todo",
                "modelDescription": "Create a new todo item in a quest YAML file. YAML formatting is preserved.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "questId",
                        "todo"
                    ],
                    "properties": {
                        "questId": {
                            "type": "string",
                            "description": "The quest ID."
                        },
                        "file": {
                            "type": "string",
                            "description": "Target YAML file name within the quest folder. Defaults to persistent file."
                        },
                        "todo": {
                            "type": "object",
                            "required": [
                                "id",
                                "description",
                                "status"
                            ],
                            "properties": {
                                "id": {
                                    "type": "string",
                                    "description": "Unique todo ID (lowercase, starts with letter)."
                                },
                                "description": {
                                    "type": "string",
                                    "description": "What needs to be done."
                                },
                                "status": {
                                    "type": "string",
                                    "enum": [
                                        "not-started",
                                        "in-progress",
                                        "blocked",
                                        "completed",
                                        "cancelled"
                                    ]
                                },
                                "title": {
                                    "type": "string",
                                    "description": "Short title."
                                },
                                "priority": {
                                    "type": "string",
                                    "enum": [
                                        "low",
                                        "medium",
                                        "high",
                                        "critical"
                                    ]
                                },
                                "tags": {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                },
                                "notes": {
                                    "type": "string"
                                },
                                "dependencies": {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "toolReferenceName": "createQuestTodo"
            },
            {
                "name": "tomAi_updateTodo",
                "tags": [
                    "todo",
                    "quest",
                    "tom-ai-chat"
                ],
                "displayName": "Update Quest Todo",
                "userDescription": "Update a quest todo by ID",
                "modelDescription": "Update fields of an existing quest todo. YAML formatting is preserved.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "questId",
                        "todoId",
                        "updates"
                    ],
                    "properties": {
                        "questId": {
                            "type": "string",
                            "description": "The quest ID."
                        },
                        "todoId": {
                            "type": "string",
                            "description": "The todo ID to update."
                        },
                        "updates": {
                            "type": "object",
                            "properties": {
                                "title": {
                                    "type": "string"
                                },
                                "description": {
                                    "type": "string"
                                },
                                "status": {
                                    "type": "string",
                                    "enum": [
                                        "not-started",
                                        "in-progress",
                                        "blocked",
                                        "completed",
                                        "cancelled"
                                    ]
                                },
                                "priority": {
                                    "type": "string",
                                    "enum": [
                                        "low",
                                        "medium",
                                        "high",
                                        "critical"
                                    ]
                                },
                                "tags": {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                },
                                "notes": {
                                    "type": "string"
                                },
                                "completed_date": {
                                    "type": "string"
                                },
                                "completed_by": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                },
                "toolReferenceName": "updateQuestTodo"
            },
            {
                "name": "tomAi_moveTodo",
                "tags": [
                    "todo",
                    "quest",
                    "tom-ai-chat"
                ],
                "displayName": "Move Quest Todo",
                "userDescription": "Move a quest todo between quest files",
                "modelDescription": "Move a todo from one YAML file to another within a quest folder.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "questId",
                        "todoId",
                        "targetFile"
                    ],
                    "properties": {
                        "questId": {
                            "type": "string",
                            "description": "The quest ID."
                        },
                        "todoId": {
                            "type": "string",
                            "description": "The todo ID to move."
                        },
                        "targetFile": {
                            "type": "string",
                            "description": "Target YAML file name (e.g. \"todos.vscode_extension.yaml\")."
                        }
                    }
                },
                "toolReferenceName": "moveQuestTodo"
            },
            {
                "name": "tomAi_windowTodo_add",
                "tags": [
                    "todo",
                    "session",
                    "tom-ai-chat"
                ],
                "displayName": "Add Session Todo",
                "userDescription": "Add a session reminder todo",
                "modelDescription": "Add a self-reminder todo for this prompt session. Use to avoid forgetting postponed tasks, deferred decisions, or follow-up items.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "title"
                    ],
                    "properties": {
                        "title": {
                            "type": "string",
                            "description": "Short description of the reminder."
                        },
                        "details": {
                            "type": "string",
                            "description": "Extended context or notes."
                        },
                        "priority": {
                            "type": "string",
                            "enum": [
                                "low",
                                "medium",
                                "high"
                            ],
                            "description": "Priority. Default: medium."
                        },
                        "tags": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "description": "Categorization tags."
                        }
                    }
                },
                "toolReferenceName": "addSessionTodo"
            },
            {
                "name": "tomAi_windowTodo_list",
                "tags": [
                    "todo",
                    "session",
                    "tom-ai-chat"
                ],
                "displayName": "List Session Todos",
                "userDescription": "List session todos",
                "modelDescription": "List prompt session todos, optionally filtered by status or tags.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "status": {
                            "type": "string",
                            "enum": [
                                "pending",
                                "done",
                                "all"
                            ],
                            "description": "Filter. Default: all."
                        },
                        "tags": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "description": "Filter by tags."
                        }
                    }
                },
                "toolReferenceName": "listSessionTodos"
            },
            {
                "name": "tomAi_windowTodo_getAll",
                "tags": [
                    "todo",
                    "session",
                    "tom-ai-chat"
                ],
                "displayName": "Get All Session Todos",
                "userDescription": "Get all session todos",
                "modelDescription": "Get ALL prompt session todos in a single call with counts. No filtering.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {}
                },
                "toolReferenceName": "getAllSessionTodos"
            },
            {
                "name": "tomAi_windowTodo_update",
                "tags": [
                    "todo",
                    "session",
                    "tom-ai-chat"
                ],
                "displayName": "Update Session Todo",
                "userDescription": "Update session todo",
                "modelDescription": "Update a prompt session todo (mark done, change title/priority).",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "id"
                    ],
                    "properties": {
                        "id": {
                            "type": "string",
                            "description": "The session todo ID (e.g. \"wt-1\")."
                        },
                        "status": {
                            "type": "string",
                            "enum": [
                                "pending",
                                "done"
                            ],
                            "description": "New status."
                        },
                        "title": {
                            "type": "string",
                            "description": "Updated title."
                        },
                        "details": {
                            "type": "string",
                            "description": "Updated details."
                        },
                        "priority": {
                            "type": "string",
                            "enum": [
                                "low",
                                "medium",
                                "high"
                            ],
                            "description": "Updated priority."
                        }
                    }
                },
                "toolReferenceName": "updateSessionTodo"
            },
            {
                "name": "tomAi_windowTodo_delete",
                "tags": [
                    "todo",
                    "session",
                    "tom-ai-chat"
                ],
                "displayName": "Delete Session Todo",
                "userDescription": "Delete session todo",
                "modelDescription": "Delete a prompt session todo.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "id"
                    ],
                    "properties": {
                        "id": {
                            "type": "string",
                            "description": "The session todo ID to delete."
                        }
                    }
                },
                "toolReferenceName": "deleteSessionTodo"
            },
            {
                "name": "tom_readLocalGuideline",
                "tags": [
                    "guidelines",
                    "local-llm"
                ],
                "displayName": "Read Local Guideline",
                "userDescription": "Read local LLM guidelines",
                "modelDescription": "Read local LLM guidelines from _copilot_local/ folder. Without a fileName, returns the list of available files and the content of index.md. Use this tool to understand workspace conventions before making changes.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "fileName": {
                            "type": "string",
                            "description": "Optional specific guideline file to read."
                        }
                    }
                },
                "toolReferenceName": "tom_readLocalGuideline"
            },
            {
                "name": "addToPromptQueue",
                "tags": [
                    "queue",
                    "tom-ai-chat"
                ],
                "displayName": "Add To Prompt Queue",
                "userDescription": "Add prompt to queue",
                "modelDescription": "Add a prompt to the prompt queue, optionally with template, answer wrapper, and follow-up prompts.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "text"
                    ],
                    "properties": {
                        "text": {
                            "type": "string"
                        },
                        "template": {
                            "type": "string"
                        },
                        "answerWrapper": {
                            "type": "boolean"
                        },
                        "position": {
                            "type": "number"
                        },
                        "deferSend": {
                            "type": "boolean"
                        }
                    }
                },
                "toolReferenceName": "addToPromptQueue"
            },
            {
                "name": "addFollowUpPrompt",
                "tags": [
                    "queue",
                    "follow-up",
                    "tom-ai-chat"
                ],
                "displayName": "Add Follow-Up Prompt",
                "userDescription": "Add follow-up to queue item",
                "modelDescription": "Add a follow-up prompt to an existing queue item.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "text"
                    ],
                    "properties": {
                        "queueItemId": {
                            "type": "string"
                        },
                        "requestId": {
                            "type": "string"
                        },
                        "text": {
                            "type": "string"
                        },
                        "template": {
                            "type": "string"
                        }
                    }
                },
                "toolReferenceName": "addFollowUpPrompt"
            },
            {
                "name": "sendQueuedPrompt",
                "tags": [
                    "queue",
                    "tom-ai-chat"
                ],
                "displayName": "Send Queued Prompt",
                "userDescription": "Send queued prompt",
                "modelDescription": "Send one staged/pending prompt from the queue.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "queueItemId": {
                            "type": "string"
                        },
                        "requestId": {
                            "type": "string"
                        }
                    }
                },
                "toolReferenceName": "sendQueuedPrompt"
            },
            {
                "name": "addTimedRequest",
                "tags": [
                    "timed",
                    "queue",
                    "tom-ai-chat"
                ],
                "displayName": "Add Timed Request",
                "userDescription": "Add timed request",
                "modelDescription": "Add a timed request entry in interval mode.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "text"
                    ],
                    "properties": {
                        "text": {
                            "type": "string"
                        },
                        "template": {
                            "type": "string"
                        },
                        "answerWrapper": {
                            "type": "boolean"
                        },
                        "enabled": {
                            "type": "boolean"
                        },
                        "intervalMinutes": {
                            "type": "number"
                        }
                    }
                },
                "toolReferenceName": "addTimedRequest"
            },
            {
                "name": "tom_queue_list",
                "tags": [
                    "queue",
                    "tom-ai-chat"
                ],
                "displayName": "Queue List",
                "userDescription": "List queue items",
                "modelDescription": "List prompt queue items with status, IDs, reminder metadata, and follow-up counts.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "includeSent": {
                            "type": "boolean"
                        }
                    }
                },
                "toolReferenceName": "tom_queue_list"
            },
            {
                "name": "tom_queue_update_item",
                "tags": [
                    "queue",
                    "tom-ai-chat"
                ],
                "displayName": "Queue Update Item",
                "userDescription": "Update queue item",
                "modelDescription": "Update editable queue item fields including text/template/wrapper and reminder settings.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "queueItemId"
                    ],
                    "properties": {
                        "queueItemId": {
                            "type": "string"
                        },
                        "text": {
                            "type": "string"
                        },
                        "template": {
                            "type": "string"
                        },
                        "answerWrapper": {
                            "type": "boolean"
                        },
                        "reminderEnabled": {
                            "type": "boolean"
                        },
                        "reminderTemplateId": {
                            "type": "string"
                        },
                        "reminderTimeoutMinutes": {
                            "type": "number"
                        },
                        "reminderRepeat": {
                            "type": "boolean"
                        }
                    }
                },
                "toolReferenceName": "tom_queue_update_item"
            },
            {
                "name": "tom_queue_set_status",
                "tags": [
                    "queue",
                    "tom-ai-chat"
                ],
                "displayName": "Queue Set Status",
                "userDescription": "Set queue item status",
                "modelDescription": "Set queue item status to staged or pending.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "queueItemId",
                        "status"
                    ],
                    "properties": {
                        "queueItemId": {
                            "type": "string"
                        },
                        "status": {
                            "type": "string",
                            "enum": [
                                "staged",
                                "pending"
                            ]
                        }
                    }
                },
                "toolReferenceName": "tom_queue_set_status"
            },
            {
                "name": "tom_queue_send_now",
                "tags": [
                    "queue",
                    "tom-ai-chat"
                ],
                "displayName": "Queue Send Now",
                "userDescription": "Send queue item now",
                "modelDescription": "Send one staged/pending queue item immediately.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "queueItemId"
                    ],
                    "properties": {
                        "queueItemId": {
                            "type": "string"
                        }
                    }
                },
                "toolReferenceName": "tom_queue_send_now"
            },
            {
                "name": "tom_queue_remove_item",
                "tags": [
                    "queue",
                    "tom-ai-chat"
                ],
                "displayName": "Queue Remove Item",
                "userDescription": "Remove queue item",
                "modelDescription": "Remove a queue item by ID.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "queueItemId"
                    ],
                    "properties": {
                        "queueItemId": {
                            "type": "string"
                        }
                    }
                },
                "toolReferenceName": "tom_queue_remove_item"
            },
            {
                "name": "tom_queue_update_followup",
                "tags": [
                    "queue",
                    "follow-up",
                    "tom-ai-chat"
                ],
                "displayName": "Queue Update Follow-Up",
                "userDescription": "Update follow-up",
                "modelDescription": "Update follow-up fields for a queue item.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "queueItemId",
                        "followUpId"
                    ],
                    "properties": {
                        "queueItemId": {
                            "type": "string"
                        },
                        "followUpId": {
                            "type": "string"
                        },
                        "text": {
                            "type": "string"
                        },
                        "template": {
                            "type": "string"
                        },
                        "reminderEnabled": {
                            "type": "boolean"
                        },
                        "reminderTemplateId": {
                            "type": "string"
                        },
                        "reminderTimeoutMinutes": {
                            "type": "number"
                        },
                        "reminderRepeat": {
                            "type": "boolean"
                        }
                    }
                },
                "toolReferenceName": "tom_queue_update_followup"
            },
            {
                "name": "tom_queue_remove_followup",
                "tags": [
                    "queue",
                    "follow-up",
                    "tom-ai-chat"
                ],
                "displayName": "Queue Remove Follow-Up",
                "userDescription": "Remove follow-up",
                "modelDescription": "Remove a follow-up prompt from a queue item.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "queueItemId",
                        "followUpId"
                    ],
                    "properties": {
                        "queueItemId": {
                            "type": "string"
                        },
                        "followUpId": {
                            "type": "string"
                        }
                    }
                },
                "toolReferenceName": "tom_queue_remove_followup"
            },
            {
                "name": "tom_timed_list",
                "tags": [
                    "timed",
                    "tom-ai-chat"
                ],
                "displayName": "Timed List",
                "userDescription": "List timed entries",
                "modelDescription": "List timed request entries with schedule and reminder metadata.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "includeCompleted": {
                            "type": "boolean"
                        }
                    }
                },
                "toolReferenceName": "tom_timed_list"
            },
            {
                "name": "tom_timed_update_entry",
                "tags": [
                    "timed",
                    "tom-ai-chat"
                ],
                "displayName": "Timed Update Entry",
                "userDescription": "Update timed entry",
                "modelDescription": "Update timed entry fields (text/template/schedule/reminder/enabled).",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "entryId",
                        "patch"
                    ],
                    "properties": {
                        "entryId": {
                            "type": "string"
                        },
                        "patch": {
                            "type": "object"
                        }
                    }
                },
                "toolReferenceName": "tom_timed_update_entry"
            },
            {
                "name": "tom_timed_remove_entry",
                "tags": [
                    "timed",
                    "tom-ai-chat"
                ],
                "displayName": "Timed Remove Entry",
                "userDescription": "Remove timed entry",
                "modelDescription": "Remove a timed request entry by ID.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "entryId"
                    ],
                    "properties": {
                        "entryId": {
                            "type": "string"
                        }
                    }
                },
                "toolReferenceName": "tom_timed_remove_entry"
            },
            {
                "name": "tom_timed_set_engine_state",
                "tags": [
                    "timed",
                    "tom-ai-chat"
                ],
                "displayName": "Timed Set Engine State",
                "userDescription": "Set timed engine active state",
                "modelDescription": "Enable or disable the global timed request engine.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "activated"
                    ],
                    "properties": {
                        "activated": {
                            "type": "boolean"
                        }
                    }
                },
                "toolReferenceName": "tom_timed_set_engine_state"
            },
            {
                "name": "tom_prompt_template_manage",
                "tags": [
                    "templates",
                    "queue",
                    "timed",
                    "tom-ai-chat"
                ],
                "displayName": "Prompt Template Manage",
                "userDescription": "Manage prompt templates",
                "modelDescription": "List/create/update/delete prompt templates used by queue and timed requests.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "operation"
                    ],
                    "properties": {
                        "operation": {
                            "type": "string",
                            "enum": [
                                "list",
                                "create",
                                "update",
                                "delete"
                            ]
                        },
                        "name": {
                            "type": "string"
                        },
                        "newName": {
                            "type": "string"
                        },
                        "template": {
                            "type": "string"
                        },
                        "showInMenu": {
                            "type": "boolean"
                        }
                    }
                },
                "toolReferenceName": "tom_prompt_template_manage"
            },
            {
                "name": "tom_reminder_template_manage",
                "tags": [
                    "templates",
                    "reminder",
                    "queue",
                    "timed",
                    "tom-ai-chat"
                ],
                "displayName": "Reminder Template Manage",
                "userDescription": "Manage reminder templates",
                "modelDescription": "List/create/update/delete reminder templates used by queue and timed reminders.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "operation"
                    ],
                    "properties": {
                        "operation": {
                            "type": "string",
                            "enum": [
                                "list",
                                "create",
                                "update",
                                "delete"
                            ]
                        },
                        "id": {
                            "type": "string"
                        },
                        "name": {
                            "type": "string"
                        },
                        "prompt": {
                            "type": "string"
                        },
                        "isDefault": {
                            "type": "boolean"
                        }
                    }
                },
                "toolReferenceName": "tom_reminder_template_manage"
            },
            {
                "name": "tom_askBigBrother",
                "tags": [
                    "ai",
                    "llm",
                    "escalation",
                    "local-llm"
                ],
                "displayName": "Ask Big Brother",
                "userDescription": "Query VS Code language models (escalation)",
                "modelDescription": "Query VS Code language models (GitHub Copilot, Claude, GPT-4, etc.) from your local LLM. Operations: 'list' for available models, 'query' to send a prompt. This is your escalation path for complex questions requiring broader knowledge.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "operation"
                    ],
                    "properties": {
                        "operation": {
                            "type": "string",
                            "enum": [
                                "list",
                                "query"
                            ],
                            "description": "'list' to see available models, 'query' to ask a model."
                        },
                        "modelId": {
                            "type": "string",
                            "description": "Model ID, family, or name to query. If omitted, uses configured default."
                        },
                        "prompt": {
                            "type": "string",
                            "description": "The question or prompt to send to the model. Required for 'query' operation."
                        },
                        "enableTools": {
                            "type": "boolean",
                            "description": "Enable VS Code tools for the model. Default: from config."
                        },
                        "maxIterations": {
                            "type": "number",
                            "description": "Maximum tool iterations when enableTools=true. Default: from config."
                        }
                    }
                },
                "toolReferenceName": "tom_askBigBrother"
            },
            {
                "name": "tom_askCopilot",
                "tags": [
                    "ai",
                    "copilot",
                    "escalation",
                    "local-llm"
                ],
                "displayName": "Ask Copilot",
                "userDescription": "Send question to Copilot chat",
                "modelDescription": "Send a question to GitHub Copilot via the chat window and wait for a response via answer file. Useful for questions benefiting from Copilot's full context of open files and workspace.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "prompt"
                    ],
                    "properties": {
                        "prompt": {
                            "type": "string",
                            "description": "Your question for Copilot."
                        },
                        "waitForAnswer": {
                            "type": "boolean",
                            "description": "Whether to wait for answer file. Default: true."
                        },
                        "timeoutMs": {
                            "type": "number",
                            "description": "Max time to wait for answer in milliseconds. Default: from config."
                        }
                    }
                },
                "toolReferenceName": "tom_askCopilot"
            }
        ],
        "configuration": {
            "title": "Tom AI",
            "properties": {
                "tomAi.contextApproach": {
                    "type": "string",
                    "default": "accumulation",
                    "enum": [
                        "accumulation",
                        "persistent"
                    ],
                    "description": "Context persistence approach for AI operations"
                },
                "tomAi.maxContextSize": {
                    "type": "number",
                    "default": 50000,
                    "description": "Maximum context size in tokens"
                },
                "tomAi.autoRunOnSave": {
                    "type": "boolean",
                    "default": false,
                    "description": "Automatically run scripts on save"
                },
                "tomAi.copilotModel": {
                    "type": "string",
                    "default": "gpt-4o",
                    "enum": [
                        "gpt-4o",
                        "gpt-4",
                        "gpt-3.5-turbo"
                    ],
                    "description": "Preferred Copilot model"
                },
                "tomAi.configPath": {
                    "type": "string",
                    "default": "~/.tom/vscode/tom_vscode_extension.json",
                    "description": "Path to the extension configuration file (supports ~ for home directory and ${workspaceFolder})"
                },
                "tomAi.sendToChat.showNotifications": {
                    "type": "boolean",
                    "default": true,
                    "description": "Show notifications when sending text to Copilot Chat"
                },
                "tomAi.sendToChat.chatAnswerFolder": {
                    "type": "string",
                    "default": "_ai/chat_replies",
                    "description": "Folder path for chat answer files (relative to workspace root)"
                },
                "tomAi.tomAiChat.modelId": {
                    "type": "string",
                    "default": "gpt-5.2",
                    "description": "Model ID for Tom AI chat"
                },
                "tomAi.tomAiChat.tokenModelId": {
                    "type": "string",
                    "default": "gpt-4o",
                    "description": "Model ID used for token count estimates"
                },
                "tomAi.tomAiChat.responsesTokenLimit": {
                    "type": "number",
                    "default": 50000,
                    "description": "Token limit for <chat-id>.responses.md"
                },
                "tomAi.tomAiChat.responseSummaryTokenLimit": {
                    "type": "number",
                    "default": 8000,
                    "description": "Token limit for <chat-id>.response-summary.md"
                },
                "tomAi.tomAiChat.preProcessingModelId": {
                    "type": "string",
                    "default": "gpt-5-mini",
                    "description": "Model ID for pre-processing step (cheap model to gather context before main processing)"
                },
                "tomAi.tomAiChat.enablePromptOptimization": {
                    "type": "boolean",
                    "default": false,
                    "description": "Enable pre-processing step with cheap model to gather context before main processing"
                },
                "tomAi.ollama.url": {
                    "type": "string",
                    "default": "http://localhost:11434",
                    "description": "Ollama server URL (fallback; prefer promptExpander section in send_to_chat.json)"
                },
                "tomAi.ollama.model": {
                    "type": "string",
                    "default": "qwen3:8b",
                    "description": "Ollama model name (fallback; prefer promptExpander section in send_to_chat.json)"
                },
                "tomAi.notes.workspaceTodoFile": {
                    "type": "string",
                    "default": "workspace.todo.yaml",
                    "description": "Workspace-relative path to the workspace todo YAML file used by WORKSPACE TODOS views"
                },
                "tomAi.notes.questNotesFilePattern": {
                    "type": "string",
                    "default": "_ai/quests/${quest}/quest-notes.${quest}.md",
                    "description": "Pattern for quest notes file path. Supports ${quest} and ${workspaceFolder}."
                },
                "tomAi.notes.questTodoFilePattern": {
                    "type": "string",
                    "default": "todos.${quest}.todo.yaml",
                    "description": "Pattern for quest todo filename used by QUEST TODOS view. Supports ${quest}."
                },
                "tomAi.guidelines.projectExcludeGlobs": {
                    "type": "array",
                    "default": [
                        "tom/zom_*/**"
                    ],
                    "items": {
                        "type": "string"
                    },
                    "description": "Glob patterns excluded when building the non-recursive Project list in the Guidelines panel."
                },
                "tomAi.projectDetection.excludeGlobs": {
                    "type": "array",
                    "default": [
                        "tom/zom_*/**"
                    ],
                    "items": {
                        "type": "string"
                    },
                    "description": "Glob patterns excluded from full-workspace project detection scans."
                }
            }
        }
    },
    "scripts": {
        "vscode:prepublish": "npm run compile",
        "compile": "tsc -p ./ && mkdir -p out/config && cp src/config/*.json out/config/",
        "watch": "tsc -watch -p ./",
        "pretest": "npm run compile",
        "lint": "eslint src --ext ts"
    },
    "devDependencies": {
        "@types/node": "^18.x",
        "@types/vscode": "1.96.0",
        "@typescript-eslint/eslint-plugin": "^6.0.0",
        "@typescript-eslint/parser": "^6.0.0",
        "eslint": "^8.0.0",
        "typescript": "^5.3.0"
    },
    "dependencies": {
        "@vscode/codicons": "^0.0.44",
        "ajv": "^8.18.0",
        "marked": "^14.1.2",
        "mermaid": "^11.4.1",
        "telegramify-markdown": "^1.3.2",
        "yaml": "^2.8.2",
        "yaml-graph-core": "file:../yaml_graph_core",
        "yaml-graph-vscode": "file:../yaml_graph_vscode"
    }
}
